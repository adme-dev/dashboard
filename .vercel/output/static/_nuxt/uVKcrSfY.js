import{b4 as E,r as S,ai as y,aL as A,am as h,be as L,g as w,ac as T,h as k,y as C,B as b,b as _,o as K,w as M,e as I,I as P,J as R,f as m,D as B,P as Y}from"./CTkq0g8j.js";function Q(e,t){const r=E(!1,300),n=S(null),s=A();function a(){n.value=null,r.value=!1}function o(l,c){const u=l.currentTarget,i={x:l.clientX,y:l.clientY},f=D(i,u.getBoundingClientRect()),v=q(i,f),d=F(c.getBoundingClientRect()),x=O([...v,...d]);n.value=x,r.value=!0}return y(l=>{if(e.value&&t.value){const c=i=>o(i,t.value),u=i=>o(i,e.value);e.value.addEventListener("pointerleave",c),t.value.addEventListener("pointerleave",u),l(()=>{e.value?.removeEventListener("pointerleave",c),t.value?.removeEventListener("pointerleave",u)})}}),y(l=>{if(n.value){const c=u=>{if(!n.value||!(u.target instanceof HTMLElement))return;const i=u.target,f={x:u.clientX,y:u.clientY},v=e.value?.contains(i)||t.value?.contains(i),d=!G(f,n.value),x=!!i.closest("[data-grace-area-trigger]");v?a():(d||x)&&(a(),s.trigger())};e.value?.ownerDocument.addEventListener("pointermove",c),l(()=>e.value?.ownerDocument.removeEventListener("pointermove",c))}}),{isPointerInTransit:r,onPointerExit:s.on}}function D(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function q(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function F(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function G(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,i=t[o].y;c>n!=i>n&&r<(u-l)*(n-c)/(i-c)+l&&(s=!s)}return s}function O(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),U(t)}function U(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}const W="menu.itemSelect",p=["Enter"," "],j=["ArrowDown","PageUp","Home"],H=["ArrowUp","PageDown","End"],Z=[...j,...H],ee={ltr:[...p,"ArrowRight"],rtl:[...p,"ArrowLeft"]},te={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function re(e){return e?"open":"closed"}function z(e){return e==="indeterminate"}function ne(e){return z(e)?"indeterminate":e?"checked":"unchecked"}function se(e){const t=h();for(const r of e)if(r===t||(r.focus(),h()!==t))return}function N(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,i=t[o].y;c>n!=i>n&&r<(u-l)*(n-c)/(i-c)+l&&(s=!s)}return s}function ae(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return N(r,t)}function oe(e){return e.pointerType==="mouse"}const g={meta:"",ctrl:"",alt:"",win:"⊞",command:"⌘",shift:"⇧",control:"⌃",option:"⌥",enter:"↵",delete:"⌦",backspace:"⌫",escape:"⎋",tab:"⇥",capslock:"⇪",arrowup:"↑",arrowright:"→",arrowdown:"↓",arrowleft:"←",pageup:"⇞",pagedown:"⇟",home:"↖",end:"↘"},V=()=>{const e=w(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),t=T({meta:" ",alt:" ",ctrl:" "});k(()=>{t.meta=e.value?g.command:"Ctrl",t.ctrl=e.value?g.control:"Ctrl",t.alt=e.value?g.option:"Alt"});function r(n){if(n)return["meta","alt","ctrl"].includes(n)?t[n]:g[n]||n.toUpperCase()}return{macOS:e,getKbdKey:r}},X=L(V),$={base:"inline-flex items-center justify-center px-1 rounded-sm font-medium font-sans",variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{sm:"h-4 min-w-[16px] text-[10px]",md:"h-5 min-w-[20px] text-[11px]",lg:"h-6 min-w-[24px] text-[12px]"}},compoundVariants:[{color:"primary",variant:"solid",class:"text-inverted bg-primary"},{color:"secondary",variant:"solid",class:"text-inverted bg-secondary"},{color:"success",variant:"solid",class:"text-inverted bg-success"},{color:"info",variant:"solid",class:"text-inverted bg-info"},{color:"warning",variant:"solid",class:"text-inverted bg-warning"},{color:"error",variant:"solid",class:"text-inverted bg-error"},{color:"primary",variant:"outline",class:"ring ring-inset ring-primary/50 text-primary"},{color:"secondary",variant:"outline",class:"ring ring-inset ring-secondary/50 text-secondary"},{color:"success",variant:"outline",class:"ring ring-inset ring-success/50 text-success"},{color:"info",variant:"outline",class:"ring ring-inset ring-info/50 text-info"},{color:"warning",variant:"outline",class:"ring ring-inset ring-warning/50 text-warning"},{color:"error",variant:"outline",class:"ring ring-inset ring-error/50 text-error"},{color:"primary",variant:"soft",class:"text-primary bg-primary/10"},{color:"secondary",variant:"soft",class:"text-secondary bg-secondary/10"},{color:"success",variant:"soft",class:"text-success bg-success/10"},{color:"info",variant:"soft",class:"text-info bg-info/10"},{color:"warning",variant:"soft",class:"text-warning bg-warning/10"},{color:"error",variant:"soft",class:"text-error bg-error/10"},{color:"primary",variant:"subtle",class:"text-primary ring ring-inset ring-primary/25 bg-primary/10"},{color:"secondary",variant:"subtle",class:"text-secondary ring ring-inset ring-secondary/25 bg-secondary/10"},{color:"success",variant:"subtle",class:"text-success ring ring-inset ring-success/25 bg-success/10"},{color:"info",variant:"subtle",class:"text-info ring ring-inset ring-info/25 bg-info/10"},{color:"warning",variant:"subtle",class:"text-warning ring ring-inset ring-warning/25 bg-warning/10"},{color:"error",variant:"subtle",class:"text-error ring ring-inset ring-error/25 bg-error/10"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default"},{color:"neutral",variant:"soft",class:"text-default bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated"}],defaultVariants:{variant:"outline",color:"neutral",size:"md"}},ie={__name:"UKbd",props:{as:{type:null,required:!1,default:"kbd"},value:{type:null,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,{getKbdKey:r}=X(),n=C(),s=w(()=>b({extend:b($),...n.ui?.kbd||{}}));return(a,o)=>(K(),_(m(Y),{as:e.as,class:B(s.value({class:t.class,color:t.color,variant:t.variant,size:t.size}))},{default:M(()=>[I(a.$slots,"default",{},()=>[P(R(m(r)(e.value)),1)])]),_:3},8,["as","class"]))}};export{Z as F,W as I,H as L,p as S,ie as _,oe as a,ne as b,z as c,te as d,ee as e,se as f,re as g,X as h,ae as i,Q as u};
