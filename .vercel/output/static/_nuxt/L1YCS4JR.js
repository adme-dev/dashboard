import{d as k,g as f,b as v,o as n,w as x,C as r,f as o,M as t,i as C,_ as U,F as b,E as _,n as g,J as c}from"./CTkq0g8j.js";import{_ as V}from"./DsTXvJJt.js";const B={key:0,class:"p-6 text-sm text-muted flex items-center justify-center min-h-[300px]"},$={class:"text-center"},S={key:1,class:"p-6 pt-0 flex-1"},j={class:"mb-6"},F={class:"relative h-64 flex items-end justify-center gap-3 px-4"},A=["title"],D={class:"absolute -top-8 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10"},E=["title"],N={class:"border-t border-gray-100 dark:border-gray-800 pt-4"},z={class:"space-y-2 max-h-32 overflow-y-auto scrollbar-thin"},I={class:"flex items-center gap-2 min-w-0 flex-1"},M=["title"],H={class:"font-medium text-green-600 ml-3"},J=k({__name:"VendorContributionBars.client",props:{vendors:{}},setup(h){const l=h,u=[{from:"#3b82f6",to:"#1d4ed8",bg:"#3b82f6"},{from:"#10b981",to:"#047857",bg:"#10b981"},{from:"#8b5cf6",to:"#5b21b6",bg:"#8b5cf6"},{from:"#f97316",to:"#c2410c",bg:"#f97316"},{from:"#ef4444",to:"#b91c1c",bg:"#ef4444"},{from:"#6366f1",to:"#3730a3",bg:"#6366f1"},{from:"#06b6d4",to:"#0891b2",bg:"#06b6d4"},{from:"#84cc16",to:"#4d7c0f",bg:"#84cc16"}],i=f(()=>!l.vendors||!Array.isArray(l.vendors)?[]:[...l.vendors].filter(e=>e&&typeof e.amount=="number"&&e.amount>0).sort((e,a)=>a.amount-e.amount).slice(0,8).map((e,a)=>({...e,colors:u[a%u.length]}))),p=f(()=>i.value.reduce((d,e)=>Math.max(d,e.amount||0),0)),m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format;return(d,e)=>{const a=U,y=V;return n(),v(y,{ui:{body:"!p-0"},class:"h-full flex flex-col"},{header:x(()=>e[0]||(e[0]=[t("div",null,[t("p",{class:"text-xs text-muted uppercase mb-1.5"}," Vendor Concentration "),t("p",{class:"text-muted text-xs"}," Share of spend by top vendors ")],-1)])),default:x(()=>[o(i)?.length?(n(),r("div",S,[t("div",j,[t("div",F,[(n(!0),r(b,null,_(o(i).slice(0,6),(s,w)=>(n(),r("div",{key:s.name,class:"relative flex flex-col items-center group cursor-pointer",title:`${s?.name||"Unknown"}: ${o(m)(s?.amount||0)}`},[t("div",{class:"w-8 rounded-t-lg transition-all duration-500 hover:scale-105 hover:shadow-lg",style:g({background:`linear-gradient(to top, ${s?.colors?.from||"#3b82f6"}, ${s?.colors?.to||"#1d4ed8"})`,height:`${o(p)===0?0:(s?.amount||0)/o(p)*200}px`,minHeight:"12px"})},null,4),t("div",D,c(o(m)(s?.amount||0)),1),t("div",{class:"mt-2 text-xs text-center max-w-16 truncate",title:s?.name||"Unknown"},c((s?.name||"Unknown").split(" ")[0]),9,E)],8,A))),128))])]),t("div",N,[e[2]||(e[2]=t("h4",{class:"text-sm font-semibold mb-3 text-muted"},"Top Vendors",-1)),t("div",z,[(n(!0),r(b,null,_(o(i),(s,w)=>(n(),r("div",{key:s.name,class:"flex items-center justify-between text-sm hover:bg-gray-50 dark:hover:bg-gray-800/50 px-2 py-1 rounded transition-colors"},[t("div",I,[t("div",{class:"w-3 h-3 rounded-full flex-shrink-0",style:g({backgroundColor:s?.colors?.bg||"#3b82f6"})},null,4),t("span",{class:"truncate",title:s?.name||"Unknown"},c(s?.name||"Unknown"),9,M)]),t("span",H,c(o(m)(s?.amount||0)),1)]))),128))])])])):(n(),r("div",B,[t("div",$,[C(a,{name:"i-lucide-building-2",class:"h-12 w-12 text-muted/50 mx-auto mb-4"}),e[1]||(e[1]=t("p",null,"Vendor spend will appear here once we detect expenses in this range.",-1))])]))]),_:1})}}}),P=Object.assign(J,{__name:"ExpensesVendorContributionBars"});export{P as default};
