import{_ as g,a as b}from"./BEHCJB9p.js";import{_ as x}from"./CwiJf-Bm.js";import{d as k,r as l,b as w,w as B,o as c,i,M as r,C as d,F as C,E as U,f as u,D as V,J as p,R as $,Q as P}from"./CTkq0g8j.js";import"./DRjXbHxH.js";const S={class:"space-y-3"},D={class:"text-xs text-muted mb-1"},I={class:"whitespace-pre-wrap"},A={class:"mt-4 flex gap-2"},z=k({__name:"index",setup(E){const s=l([]),e=l(""),a=l(!1);async function m(){const o=e.value.trim();if(!(!o||a.value)){s.value.push({role:"user",content:o}),e.value="",a.value=!0;try{const n=await $fetch("/api/ai/chat",{method:"POST",body:{prompt:o}});s.value.push({role:"assistant",content:n.reply})}catch{s.value.push({role:"assistant",content:"Sorry, I could not answer that."})}finally{a.value=!1}}}return(o,n)=>{const _=b,f=x,h=P,v=g;return c(),w(v,null,{default:B(()=>[i(_,{title:"Ask Your Data",description:"Ask questions about your KPIs and reports"}),r("div",S,[(c(!0),d(C,null,U(u(s),(t,y)=>(c(),d("div",{key:y,class:V(["p-3 rounded border",t.role==="user"?"bg-primary/5 border-primary/20":"bg-muted/50 border-muted/30"])},[r("div",D,p(t.role),1),r("div",I,p(t.content),1)],2))),128))]),r("div",A,[i(f,{modelValue:u(e),"onUpdate:modelValue":n[0]||(n[0]=t=>$(e)?e.value=t:null),placeholder:"e.g. What is my profit and cash outlook?",class:"flex-1"},null,8,["modelValue"]),i(h,{loading:u(a),label:"Send",onClick:m},null,8,["loading"])])]),_:1})}}});export{z as default};
